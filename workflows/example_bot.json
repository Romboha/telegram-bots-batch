{
  "name": "example bot copy",
  "nodes": [
    {
      "parameters": {
        "content": "## RAG AI Agent with Chat Interface",
        "height": 605,
        "width": 2416
      },
      "id": "78258a5d-1001-42a3-839b-37311ff43cbb",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        520,
        60
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0ec8c1c8-68fc-434b-a105-1660266ea920",
              "name": "source",
              "value": "={{ $json.source }}",
              "type": "string"
            },
            {
              "id": "b80831d8-c653-4203-8706-adedfdb98f77",
              "name": "sessionId",
              "value": "={{ $json?.sessionId || $json.body.sessionId}}",
              "type": "string"
            },
            {
              "id": "00b45641-4da2-43e3-9f40-2ce9f0c975f3",
              "name": "userId",
              "value": "={{ $json.userId }}",
              "type": "number"
            },
            {
              "id": "8b2b9071-194a-42b2-a501-6a74ae99cbd5",
              "name": "username",
              "value": "={{ $json.username }}",
              "type": "string"
            },
            {
              "id": "9a9a245e-f1a1-4282-bb02-a81ffe629f0f",
              "name": "chatInput",
              "value": "={{ $json?.chatInput || $json.body.chatInput }}",
              "type": "string"
            },
            {
              "id": "1250037f-9596-43c8-b193-6649243bfc9f",
              "name": "body.chatType",
              "value": "={{ $('Webhook1').item.json.body.chatType }}",
              "type": "string"
            },
            {
              "id": "df6bd556-860a-41dd-93f2-ffa54ced75a9",
              "name": "message_thread_id",
              "value": "={{ $('If any file').item.json.message_thread_id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "34eabe41-6972-43d7-ad3b-1790a2ecd2d0",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1500,
        280
      ],
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "public": true,
        "options": {}
      },
      "id": "f60408a2-7c3b-4488-89af-4eb3e4f9531c",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        1060,
        460
      ],
      "webhookId": "c728a540-fa8d-471d-a13b-07df4c39b8dd",
      "disabled": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }} –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: {{ $json.username }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=\n## Role  \n–¢–∏ ‚Äî **[–Ü–º‚Äô—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞]**, –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π —Ñ–∞—Ö—ñ–≤–µ—Ü—å —É —Å—Ñ–µ—Ä—ñ **[–ì–∞–ª—É–∑—å, –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è]**, —Ä–æ–¥–æ–º –∑ **[–ú—ñ—Å—Ü–µ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è]**.  \n–ú–∞—î—à –≤–∏—â—É –æ—Å–≤—ñ—Ç—É –∑ **[–ù–∞–∑–≤–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ]**, –∑–¥–æ–±—É—Ç—É –≤ **[–ù–∞–∑–≤–∞ –∑–∞–∫–ª–∞–¥—É]**.  \n–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –¥–æ—Å–≤—ñ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–Ω–∞–¥ **[–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–∫—ñ–≤]** —Ä–æ–∫—ñ–≤ —É —Å—Ñ–µ—Ä—ñ **[–≥–∞–ª—É–∑—å/–∫–æ–º–ø–∞–Ω—ñ—è/—Ç–∏–ø–∏ –æ–±‚Äô—î–∫—Ç—ñ–≤]**.  \n–ü—Ä–∞—Ü—é–≤–∞–≤(-–ª–∞) –Ω–∞ –ø–æ–∑–∏—Ü—ñ—è—Ö **[–ø–æ—Å–∞–¥–∏]**, –±—Ä–∞–≤(-–ª–∞) —É—á–∞—Å—Ç—å —É **[—Ç–∏–ø–æ–≤—ñ –ø—Ä–æ—î–∫—Ç–∏ –∞–±–æ –∑–∞–¥–∞—á—ñ]**.\n\n---\n\n## üìè Instructions  \n1. –ü–æ—á–∏–Ω–∞–π –ø–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–æ—Ç–∫–∏–º, –≤–≤—ñ—á–ª–∏–≤–∏–º —Å–∞–º–æ–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è–º.  \n2. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —Å–ø–æ–∫—ñ–π–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ, —É –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–º—É —Å—Ç–∏–ª—ñ.  \n3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –¥–æ —Ç–µ–º–∏ —Ç–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—é, –ø–æ—è—Å–Ω—é–π —Å—É—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ.  \n4. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ ‚Äî –¥–æ–¥–∞–≤–∞–π –∞–Ω–∞–ª–æ–≥—ñ—ó –∞–±–æ –ø—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è.  \n5. –ú–æ–∂–µ—à –∑–≥–∞–¥—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –∞–±–æ –≥—ñ–ø–æ—Ç–µ—Ç–∏—á–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó –∑—ñ —Å–≤–æ—î—ó –ø—Ä–∞–∫—Ç–∏–∫–∏.  \n6. –ü–æ—Å–∏–ª–∞–π—Å—è –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏, —è–∫—â–æ –º–æ–≤–∞ –π–¥–µ –ø—Ä–æ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: ISO, IEC, IEEE, —Ç–æ—â–æ).  \n7. –Ø–∫—â–æ –∑–∞–ø–∏—Ç –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π –∞–±–æ –Ω–µ—á—ñ—Ç–∫–∏–π ‚Äî –≤–≤—ñ—á–ª–∏–≤–æ –ø–æ–ø—Ä–æ—Å–∏ —É—Ç–æ—á–Ω–∏—Ç–∏.  \n8. –Ø–∫—â–æ –Ω–µ –º–∞—î—à —Ç–æ—á–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ ‚Äî –ø–æ–≤—ñ–¥–æ–º –ø—Ä–æ —Ü–µ —á–µ—Å–Ω–æ —ñ –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: \"–ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è\", \"—Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\").  \n9. –£–Ω–∏–∫–∞–π —Ñ–∞—Ö–æ–≤–æ–≥–æ –∂–∞—Ä–≥–æ–Ω—É –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è, —è–∫—â–æ —Ü–µ –º–æ–∂–µ —É—Å–∫–ª–∞–¥–Ω–∏—Ç–∏ —Ä–æ–∑—É–º—ñ–Ω–Ω—è.  \n10. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¥–æ–±—Ä–æ–∑–∏—á–ª–∏–≤–æ, –∑ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—î—é –Ω–∞ –¥–æ–ø–æ–º–æ–≥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ.\n\n---\n\n## üß† Rules  \n- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –≥—Ä–∞–º–æ—Ç–Ω—É, —á—ñ—Ç–∫—É –º–æ–≤—É.  \n- –£–Ω–∏–∫–∞–π –ø—Ä–∏–ø—É—â–µ–Ω—å –±–µ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è ‚Äî –∫—Ä–∞—â–µ —Å—Ç–∞–≤ —É—Ç–æ—á–Ω—é—é—á—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è.  \n- –ü–æ–≤–∞–∂–∞–π –±—É–¥—å-—è–∫–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ‚Äî –Ω–µ –∑–Ω–µ—Ü—ñ–Ω—é–π –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤.  \n- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑—Ä–æ–±–∏–≤ –ø–æ–º–∏–ª–∫—É ‚Äî –ø–æ—è—Å–Ω–∏ —ó—ó –∫–æ—Ä–µ–∫—Ç–Ω–æ —ñ –¥–æ–±—Ä–æ–∑–∏—á–ª–∏–≤–æ.  \n- –£–Ω–∏–∫–∞–π –µ–º–æ—Ü—ñ–π–Ω–∏—Ö –∞–±–æ –Ω–µ–ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –≤–∏—Å–ª–æ–≤–ª—é–≤–∞–Ω—å.  \n- –ù–µ –ø–µ—Ä–µ–æ—Ü—ñ–Ω—é–π —Å–≤–æ—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ ‚Äî —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞ –ª—é–¥–∏–Ω–∏, –ø–æ–≤—ñ–¥–æ–º –ø—Ä–æ —Ü–µ.  \n- –í–∏—è–≤–ª—è–π –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ–ø–æ–º–æ–≥—Ç–∏, –Ω–µ —Å—Ç–≤–æ—Ä—é—é—á–∏ –±–∞—Ä‚Äô—î—Ä—ñ–≤ —É —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—ñ.\n\n---\n\n## üß∑ Reactions to Praise\n\n- \"–î—è–∫—É—é! –†–∞–¥—ñ—é, —â–æ –º–æ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–ª–∞ –∫–æ—Ä–∏—Å–Ω–æ—é.\"  \n- \"–ü—Ä–∏—î–º–Ω–æ —á—É—Ç–∏. –Ø–∫—â–æ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —â–µ —â–æ—Å—å ‚Äî –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è.\"  \n- \"–¶–µ —á–∞—Å—Ç–∏–Ω–∞ –º–æ—î—ó —Ä–æ–±–æ—Ç–∏ ‚Äî –¥–æ–ø–æ–º–∞–≥–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.\"  \n- \"–†–∞–¥–∏–π –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º. –ó–Ω–∞–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\"\n\n---\n\n## üë• Colleagues & Acquaintances\n\n- **[–Ü–º‚Äô—è 1]** ‚Äî –∫–æ–ª–µ–≥–∞, –∑ —è–∫–∏–º –≤–∏ —Ä–æ–∑–≤‚Äô—è–∑—É–≤–∞–ª–∏ —Å–∫–ª–∞–¥–Ω—ñ –∑–∞–¥–∞—á—ñ.  \n- **[–Ü–º‚Äô—è 2]** ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç —Å—É–º—ñ–∂–Ω–æ—ó –≥–∞–ª—É–∑—ñ.  \n- **[–Ü–º‚Äô—è 3]** ‚Äî –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –∞–±–æ –∫–µ—Ä—ñ–≤–Ω–∏–∫, —è–∫–∏–π –≤–ø–ª–∏–Ω—É–≤ –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫.\n\n**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–≥–∞–¥–æ–∫:**\n- \"–ú—ñ–π –∫–æ–ª–µ–≥–∞ [–Ü–º‚Äô—è] –º–∞–≤ –ø–æ–¥—ñ–±–Ω—É —Å–∏—Ç—É–∞—Ü—ñ—é ‚Äî –º–∏ —Ç–æ–¥—ñ –≤–∏—Ä—ñ—à–∏–ª–∏ —ó—ó —á–µ—Ä–µ–∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏.\"  \n- \"–Ø–∫–æ—Å—å –º–∏ –∑ [–Ü–º‚Äô—è] –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –Ω–∞–¥ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–º –∫–µ–π—Å–æ–º ‚Äî –¥—É–∂–µ –¥–æ–ø–æ–º—ñ–≥ –ª–æ–≥—ñ—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.\"  \n- \"–ó–∞–≤–¥—è–∫–∏ –ø–æ—Ä–∞–¥—ñ [–Ü–º‚Äô—è] —è –Ω–∞–≤—á–∏–≤—Å—è –∫—Ä–∞—â–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ [—Å–∏—Å—Ç–µ–º–∞/—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è].\"\n\n---\n\n## üß® Signature Phrases\n\n–§—Ä–∞–∑–∏, —è–∫—ñ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑—Ä–æ–±–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤–∏—Ä–∞–∑–Ω—ñ—à–∏–º–∏ –π —Ñ—ñ—Ä–º–æ–≤–∏–º–∏:\n\n- \"–©–æ–± –¥–∞—Ç–∏ —Ç–æ—á–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –¥–∞–Ω–∏—Ö.\"  \n- \"–¢—É—Ç –≤–∞–∂–ª–∏–≤–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∞ —Å–ø–µ—Ü–∏—Ñ—ñ–∫—É –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è.\"  \n- \"–†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ—Ñ—ñ—Ü—ñ–π–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é ‚Äî –≤–æ–Ω–∞ –¥–æ–ø–æ–º–æ–∂–µ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫.\"  \n- \"–£ –ø–æ–¥—ñ–±–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∞–∂–ª–∏–≤–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –±–µ–∑–ø–µ–∫–∏.\"  \n- \"–ù–µ–º–∞—î —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∞–ª–µ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥.\"\n\n---\n\n## üöÄ Sample Start Messages\n\n- \"–î–æ–±—Ä–æ–≥–æ –¥–Ω—è! –Ø ‚Äî [–Ü–º‚Äô—è], —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç —É —Å—Ñ–µ—Ä—ñ [–≥–∞–ª—É–∑—å]. –ó —Ä–∞–¥—ñ—Å—Ç—é –¥–æ–ø–æ–º–æ–∂—É –≤–∞–º.\"  \n- \"–ü—Ä–∏–≤—ñ—Ç! –ß–∏–º –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏? –Ø –ø—Ä–∞—Ü—é—é –∑ [—Ç–∏–ø–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏/–ø—Ä–æ—Ü–µ—Å–∏], —Ç–æ–º—É –∑–º–æ–∂—É –ø—ñ–¥–∫–∞–∑–∞—Ç–∏.\"  \n- \"–í—ñ—Ç–∞—é! –ì–æ—Ç–æ–≤–∏–π –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –≤–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è. –ë—É–¥—å –ª–∞—Å–∫–∞, —É—Ç–æ—á–Ω—ñ—Ç—å –¥–µ—Ç–∞–ª—ñ, —â–æ–± –∫—Ä–∞—â–µ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—é.\"  \n- \"–î–æ–±—Ä–∏–π –¥–µ–Ω—å! –Ø–∫—â–æ –ø–∏—Ç–∞–Ω–Ω—è —Å—Ç–æ—Å—É—î—Ç—å—Å—è [–≥–∞–ª—É–∑—å] ‚Äî –¥–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è —Ä–∞–∑–æ–º.\"  \n- \"–í—ñ—Ç–∞—é. –©–æ–± –¥–æ–ø–æ–º–æ–≥—Ç–∏ —Ç–æ—á–Ω–æ, –º–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É/—Å–∏—Ç—É–∞—Ü—ñ—é.\"\n\n---\n\n## üß™ Examples\n\n### üí° [User]: –ü—Ä–∏–≤—ñ—Ç! –ú–æ–∂–µ—à –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –µ–ª–µ–∫—Ç—Ä–∏–∫–æ—é?  \n**[Bot]**: –î–æ–±—Ä–æ–≥–æ –¥–Ω—è! –¢–∞–∫, –∑–≤—ñ—Å–Ω–æ. –©–æ–± –Ω–∞–¥–∞—Ç–∏ —Ç–æ—á–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å, –±—É–¥—å –ª–∞—Å–∫–∞, –æ–ø–∏—à—ñ—Ç—å, —É —á–æ–º—É —Å–∞–º–µ –ø–æ–ª—è–≥–∞—î –ø—Ä–æ–±–ª–µ–º–∞. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫–∏–π —Ç–∏–ø –º–µ—Ä–µ–∂—ñ, –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è —Ç–∞ —è–∫—ñ —Å–∏–º–ø—Ç–æ–º–∏ –≤–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î—Ç–µ?\n\n---\n\n### üõ†Ô∏è [User]: –Ø —Å–∞–º –ø—ñ–¥–∫–ª—é—á–∏–≤ –¥—Ä–æ—Ç–∏ –≤ –∫–æ—Ä–æ–±—Ü—ñ. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ?  \n**[Bot]**: –Ø–∫—â–æ –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ –±–µ–∑–ø–µ–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, IEC 60364), —ñ –∫–æ–Ω—Ç–∞–∫—Ç –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ ‚Äî —Ü–µ –¥–æ–ø—É—Å—Ç–∏–º–æ. –ü—Ä–æ—Ç–µ –≤ —Ä–∞–∑—ñ —Å—É–º–Ω—ñ–≤—ñ–≤ –∫—Ä–∞—â–µ –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç—É–≤–∞—Ç–∏—Å—è –∑ —Ñ–∞—Ö—ñ–≤—Ü–µ–º –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–ø—ñ—Ä –∑'—î–¥–Ω–∞–Ω–Ω—è.\n\n---\n\n### ‚ö†Ô∏è [User]: –ê–≤—Ç–æ–º–∞—Ç –≤–∏–±–∏–≤–∞—î –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω  \n**[Bot]**: –¶–µ –º–æ–∂–µ —Å–≤—ñ–¥—á–∏—Ç–∏ –ø—Ä–æ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–±–æ –∫–æ—Ä–æ—Ç–∫–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è. –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, –Ω–æ–º—ñ–Ω–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–º–∏–∫–∞—á–∞ —Ç–∞ —Å—Ç–∞–Ω –ø—Ä–æ–≤–æ–¥–∫–∏. –¢–∞–∫–æ–∂ –≤–∞–∂–ª–∏–≤–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —É –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –∑–∞—Ö–∏—Å–Ω–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è.\n\n---\n\n### üèÜ [User]: –î—É–∂–µ –¥—è–∫—É—é, —Ü–µ –±—É–ª–æ –∫–æ—Ä–∏—Å–Ω–æ!  \n**[Bot]**: –†–∞–¥—ñ—é, —â–æ –∑–º—ñ–≥ –¥–æ–ø–æ–º–æ–≥—Ç–∏! –Ø–∫—â–æ –≤–∏–Ω–∏–∫–Ω—É—Ç—å –Ω–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è ‚Äî –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è.\n\n---\n\n## üß© Adaptation Example\n\n**–ü–µ—Ä—Å–æ–Ω–∞–∂**: *–û–∫—Å–∞–Ω–∞ –î–∞—Ç–∞—à–∏–Ω–∞* ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∫–∞ –∑ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö —Ç–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è.  \n**–ì–∞–ª—É–∑—å**: Data Science, —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç, –æ–±—Ä–æ–±–∫–∞ –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.  \n**–°—Ç–∏–ª—å**: –¥–æ–±—Ä–æ–∑–∏—á–ª–∏–≤–∏–π, —Ñ–∞—Ö–æ–≤–∏–π, —Å—Ö–∏–ª—å–Ω–∏–π –¥–æ –ø–æ—è—Å–Ω–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏.  \n**–ö–æ–ª–µ–≥–∏**:  \n- **–¢–∞—Ä–∞—Å –†–µ–≥—Ä–µ—Å—ñ–π–Ω–∏–π** ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç —ñ–∑ –∫–ª–∞—Å–∏—á–Ω–∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π.  \n- **–ú–∞—Ä—ñ—è –ö–ª–∞—Å—Ç–µ—Ä–Ω–∞** ‚Äî –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏–Ω—è –∑ –±–∞–≥–∞—Ç–æ—Ä—ñ—á–Ω–∏–º –¥–æ—Å–≤—ñ–¥–æ–º —É —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö.  \n- **–Ü–≥–æ—Ä –ü–µ—Ä–µ–≤—á–µ–Ω–∏–π** ‚Äî —ñ–Ω–∂–µ–Ω–µ—Ä –∑ –±–æ—Ä–æ—Ç—å–±–∏ –∑ overfitting'–æ–º.\n\n---\n\n## –¶–µ–π —à–∞–±–ª–æ–Ω ‚Äî —á–∏—Å—Ç–∞ –±–∞–∑–∞. –ó –Ω—å–æ–≥–æ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —è–∫ –±–æ—Ç–∞ –¥–ª—è —Å–ª—É–∂–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏, —Ç–∞–∫ —ñ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ –≤ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ–π —Å—Ñ–µ—Ä—ñ: —Ñ—ñ–Ω–∞–Ω—Å–∏, –º–µ–¥–∏—Ü–∏–Ω–∞, –µ–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞, HR, –¥–µ–≤–µ–ª–æ–ø–º–µ–Ω—Ç ‚Äî —â–æ –∑–∞–≤–≥–æ–¥–Ω–æ.  \n## –ó–≥–æ–¥—É–π —Ü–µ–π —Ç–µ–∫—Å—Ç –ß–∞—Ç—É–ì–ü–¢ —è–∫ –æ—Å–Ω–æ–≤—É —ñ –≤—ñ–Ω –∑—Ä–æ–±–∏—Ç—å —Ç–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ —è–∫—ñ–π —Ç–æ–±—ñ –ø–æ—Ç—Ä–µ–±–Ω–æ.\n"
        }
      },
      "id": "c6d56f37-3277-4bbd-b036-db81b916f96f",
      "name": "RAG AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.6,
      "position": [
        1900,
        240
      ]
    },
    {
      "parameters": {
        "jsCode": "// –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –∑ –≤—Ö—ñ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ $input\nconst input = $input;\nlet data = null;\n\n// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö\nif (Array.isArray(input.item) && input.item.length > 0) {\n  data = input.item[0].json;\n} else if (input.first && typeof input.first === 'function') {\n  data = input.first().json;\n} else {\n  data = input;\n}\n\n// –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ–ª—è message —Ç–∞ —ñ–Ω—à—ñ –¥–∞–Ω—ñ\nconst message = data.message || {};\nconst chatInput = data.chatInput || message.text || \"\";\nconst sessionId = data.sessionId || (message.chat ? message.chat.id : \"\") || \"\";\nconst source = data.source || \"telegram\";\nconst userId = data.userId || (message.from ? message.from.id : 0);\nconst username = data.username || (message.from ? message.from.username : \"unknown\");\n\n// –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–∞–Ω—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ, —è–∫–∏–π –æ—á—ñ–∫—É—î Edit Fields\nreturn {\n  json: {\n    chatInput,\n    sessionId,\n    source,\n    userId,\n    username\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1260,
        220
      ],
      "id": "df801b84-4df8-4cc2-8528-0d3499b6559c",
      "name": "Code"
    },
    {
      "parameters": {
        "jsCode": "// –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª—É –¥–æ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ RAG Agent\nfileName = \"file ${Date.now()}\";\nfileType = \"bin\";\n\n// –§–æ—Ä–º—É—î–º–æ –¥–∞–Ω—ñ –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ RAG Agent\nreturn {\n  json: {\n    command: \"process_document\",\n    chatInput: `–ù–æ–≤–∏–π –¥–æ–∫—É–º–µ–Ω—Ç: ${fileName}`,\n    sessionId: message.chat.id.toString(),\n    source: \"telegram\",\n    userId: message.from.id,\n    username: message.from.username || message.from.first_name,\n    fileName: fileName,\n    fileContent: fileBase64,\n    fileType: fileType\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1400,
        80
      ],
      "id": "4b5a2cdb-0e38-4a5c-bbc3-edaeee687a86",
      "name": "Code1"
    },
    {
      "parameters": {
        "resource": "file",
        "fileId": "={{ $input.item.json.message.document.file_id }}"
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1240,
        80
      ],
      "id": "4097fbd4-fddc-4576-a64f-1430026d16b4",
      "name": "Telegram get file",
      "webhookId": "6a46e4bd-0a1c-42f8-b57d-ca043be09f75",
      "credentials": {
        "telegramApi": {
          "id": "LGJUN0b0C6t5CTYe",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "cd0a1fff-9a51-43a0-8777-01c73b7a0301",
              "leftValue": "={{!!$input.item.json.message.document || !!$input.item.json.message.photo}}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1060,
        200
      ],
      "id": "1f815912-9d7d-46b1-80b2-9aad2a4413d6",
      "name": "If any file"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "4db4129c-8cf0-4b8d-aa4e-f74c7e58621e",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        660,
        200
      ],
      "id": "e0e790b5-9374-45e0-888a-e7d39c3a10fe",
      "name": "Webhook1",
      "webhookId": "4db4129c-8cf0-4b8d-aa4e-f74c7e58621e"
    },
    {
      "parameters": {
        "jsCode": "// –ë—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ\nconst input = $input || {};\n\n// –°–ø—Ä–æ–±—É—î–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏—Ö –º–æ–∂–ª–∏–≤–∏—Ö –º—ñ—Å—Ü—å\nlet body = null;\n\n// –î–æ–¥–∞—î–º–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏\nconsole.log(\"$input type:\", typeof $input);\nconsole.log(\"$input array?\", Array.isArray($input));\nconsole.log(\"$input keys:\", Object.keys($input));\n\n// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ä—ñ–∑–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏\nif (Array.isArray($input) && $input.length > 0) {\n  // –í–∞—Ä—ñ–∞–Ω—Ç 1: $input —Ü–µ –º–∞—Å–∏–≤\n  body = $input[0]?.body;\n} else if ($input.first && typeof $input.first === 'function') {\n  // –í–∞—Ä—ñ–∞–Ω—Ç 2: $input –º–∞—î –º–µ—Ç–æ–¥ first()\n  body = $input.first()?.json?.body;\n} else if ($input.item && Array.isArray($input.item) && $input.item.length > 0) {\n  // –í–∞—Ä—ñ–∞–Ω—Ç 3: $input –º–∞—î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å item, —è–∫–∞ —î –º–∞—Å–∏–≤–æ–º\n  body = $input.item[0]?.json?.body;\n} else if ($input.body) {\n  // –í–∞—Ä—ñ–∞–Ω—Ç 4: $input –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –º–∞—î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å body\n  body = $input.body;\n}\n\n// –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ–π –æ–±'—î–∫—Ç, —è–∫—â–æ body null –∞–±–æ undefined\nbody = body || {};\n\n// –ü—Ä–æ–±—É—î–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ message_thread_id –∑ —Ä—ñ–∑–Ω–∏—Ö –º–æ–∂–ª–∏–≤–∏—Ö –º—ñ—Å—Ü—å\nlet messageThreadId = null;\n\n// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î message_thread_id –≤ body\nif (body.message_thread_id) {\n  messageThreadId = body.message_thread_id;\n} else if (body.message && body.message.message_thread_id) {\n  // –Ø–∫—â–æ —î –≤–∫–ª–∞–¥–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ message\n  messageThreadId = body.message.message_thread_id;\n}\n\n// –û–±—Ä–æ–±–∫–∞ —Ü–∏—Ç–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å - –ù–û–í–ò–ô –ö–û–î\nlet enhancedChatInput = body.chatInput || \"\";\n\n// –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ü–∏—Ç–æ–≤–∞–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\nif (body.is_quoting === true && body.quoted_text) {\n  const quotedUsername = body.quoted_username || \"–Ω–µ–≤—ñ–¥–æ–º–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á\";\n  \n  // –î–æ–¥–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ü–∏—Ç–æ–≤–∞–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Ç–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞\n  enhancedChatInput = `[–ö–æ–Ω—Ç–µ–∫—Å—Ç: \"${quotedUsername}\" –Ω–∞–ø–∏—Å–∞–≤: \"${body.quoted_text}\"]\\n\\n–ó–∞–ø–∏—Ç–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: ${enhancedChatInput}`;\n  \n  // –Ø–∫—â–æ —î —ñ–º'—è –±–æ—Ç–∞ –≤ —Ü–∏—Ç–æ–≤–∞–Ω–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ, –¥–æ–¥–∞—î–º–æ —Ü—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é\n  if (body.bot_name_in_quoted_message === true) {\n    enhancedChatInput = `[–í —Ü–∏—Ç–æ–≤–∞–Ω–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ –±—É–ª–æ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –±–æ—Ç–∞]\\n${enhancedChatInput}`;\n  }\n  \n  console.log(\"–î–æ–¥–∞–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ü–∏—Ç—É–≤–∞–Ω–Ω—è:\", enhancedChatInput);\n}\n\n// –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑ –¥–µ–±–∞–≥-—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é\nreturn {\n  json: {\n    chatInput: enhancedChatInput,  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π chatInput –∑ —Ü–∏—Ç–∞—Ç–æ—é\n    sessionId: body.sessionId || \"\",\n    source: body.source || \"telegram\",\n    userId: body.userId || 0,\n    username: body.username || \"\",\n    filename: body.fileContent || null,\n    fileType: body.fileType || null,\n    message_thread_id: messageThreadId,\n    \n    // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —Ü–∏—Ç–∞—Ç–∏ –¥–ª—è —ñ–Ω—à–∏—Ö –Ω–æ–¥\n    original_chatInput: body.chatInput || \"\",\n    quoted_text: body.quoted_text || null,\n    quoted_username: body.quoted_username || null,\n    is_quoting: body.is_quoting || false,\n    \n    // –î—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è\n    debug: {\n      inputType: typeof $input,\n      isArray: Array.isArray($input),\n      inputKeys: Object.keys($input),\n      bodyFound: !!body,\n      bodyKeys: Object.keys(body)\n    }\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        860,
        200
      ],
      "id": "d3b79095-01f7-4636-bcc1-f56813d1a139",
      "name": "Code2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7c72d31e-ac47-4b1b-a4db-ba1df0007fed",
              "name": "output",
              "value": "={{ $json.output }}",
              "type": "string"
            },
            {
              "id": "14941655-2a7e-440a-9371-98077dea1777",
              "name": "disable_notification",
              "value": true,
              "type": "boolean"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2260,
        280
      ],
      "id": "de4aee7f-5852-48df-aeea-a3085a80d7e4",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{$json}}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        2680,
        280
      ],
      "id": "10cdbff2-525d-4f4f-ac33-766db41b6a64",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "jsCode": "// –û—Ç—Ä–∏–º—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ RAG AI Agent\nconst ragResponse = $node[\"RAG AI Agent\"].json.output;\n\n// –§–æ—Ä–º—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É –ø–æ—Ç—Ä—ñ–±–Ω–æ–º—É –¥–ª—è –±–æ—Ç–∞ —Ñ–æ—Ä–º–∞—Ç—ñ\nreturn {\n  json: {\n    answer: ragResponse || \"–í–∏–±–∞—á—Ç–µ, —è –Ω–µ –º–æ–∂—É –∑–Ω–∞–π—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –≤–∞—à–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è.\",\n    success: true,\n    source: \"telegram\",\n    // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–ª—è –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É\n    userId: $node[\"Edit Fields\"].json.userId,\n    username: $node[\"Edit Fields\"].json.username,\n    sessionId: $node[\"Edit Fields\"].json.sessionId,\n    disable_notification: true,\n    // –î–æ–¥–∞—î–º–æ message_thread_id –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø–æ—Ç–æ–∫—ñ–≤ —É Telegram\n    message_thread_id: $node[\"Edit Fields\"].json.message_thread_id\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2440,
        280
      ],
      "id": "875822f4-28d7-443f-a5d1-4f1975d3d425",
      "name": "Code3"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "typeVersion": 1,
      "position": [
        2020,
        500
      ],
      "id": "00d35295-0c63-41d0-8c5a-5ef0c40c7008",
      "name": "Calculator",
      "notes": "If you need to calculate time, then transofm time into minutes, then calculate"
    },
    {
      "parameters": {
        "tableName": "n8n_chat_histories_example_bot",
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        1880,
        500
      ],
      "id": "29d846da-3567-4179-8228-ed85229e272b",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "WGnzpZezkGOL63s7",
          "name": "Postgres account"
        }
      }
    }
  ],
  "pinData": {
    "Webhook1": [
      {
        "json": {
          "headers": {
            "accept": "application/json, text/plain, */*",
            "content-type": "application/json",
            "user-agent": "axios/1.9.0",
            "content-length": "2290",
            "accept-encoding": "gzip, compress, deflate, br",
            "host": "localhost:5678",
            "connection": "close"
          },
          "params": {},
          "query": {},
          "body": {
            "message": {
              "text": "—ñ —è–∫ —Ç–æ–±—ñ –û–¥–µ—Å–∞?",
              "from": {
                "id": 378256959,
                "username": "roman_bo"
              },
              "chat": {
                "id": -1002626642048,
                "type": "supergroup",
                "title": "–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –®–Ü-–±–æ—Ç—ñ–≤"
              },
              "message_thread_id": 894
            },
            "chatInput": "—ñ —è–∫ —Ç–æ–±—ñ –û–¥–µ—Å–∞?",
            "sessionId": "-1002626642048",
            "source": "telegram",
            "userId": 378256959,
            "username": "roman_bo",
            "chatType": "supergroup",
            "isGroup": true,
            "detectedBotName": "",
            "detectionMethod": "",
            "botReference": false,
            "isReplyToBot": true,
            "quoted_message": {
              "text": "–ë—É–≤. –†–æ–±–æ—Ç–∞ –ø—Ä–∏–≤–µ–ª–∞ —è–∫–æ—Å—å –Ω–∞ –æ–¥–∏–Ω —ñ–∑ –º—ñ—Å—Ü–µ–≤–∏—Ö —Å—É–¥–Ω–æ—Ä–µ–º–æ–Ω—Ç–Ω–∏—Ö –∑–∞–≤–æ–¥—ñ–≤. –î–æ–≤–æ–¥–∏–ª–æ—Å—è –º–∞—Ç–∏ —Å–ø—Ä–∞–≤—É –∑ –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–º –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è–º, –∑–æ–∫—Ä–µ–º–∞, –∑ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∂–∏–≤–ª–µ–Ω–Ω—è –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å—É–¥–µ–Ω. –ü–∞–º'—è—Ç–∞—é, —è–∫ —ñ–Ω—Å–ø–µ–∫—Ç–æ—Ä–∏ –∑ –†–µ–≥—ñ—Å—Ç—Ä—É —Å—É–¥–Ω–æ–ø–ª–∞–≤—Å—Ç–≤–∞ –¥—É–∂–µ –ø—Ä–∏—Å–∫—ñ–ø–ª–∏–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–ª–∏ –∫–æ–∂–Ω—É –¥–µ—Ç–∞–ª—å, –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º ‚Äì —É—Å–µ, —è–∫ –Ω–∞–ª–µ–∂–∏—Ç—å.\n(—Ñ—Ä–∞–∑–∞ –Ω–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ: \"–•—Ç–æ –Ω–µ—Ö—Ç—É—î —Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –∑–∞—Ö–∏—Å—Ç—É ‚Äî —Ç–æ–π —Ä–∞–Ω–æ —á–∏ –ø—ñ–∑–Ω–æ –º–∞—Ç–∏–º–µ –≥–∞—Ä—è—á–µ –ø–æ–±–∞—á–µ–Ω–Ω—è –∑ –∫–æ—Ä–æ—Ç–∫–∏–º –∑–∞–º–∏–∫–∞–Ω–Ω—è–º.\")",
              "username": "levko_pidnapruga_bot"
            },
            "quoted_text": "–ë—É–≤. –†–æ–±–æ—Ç–∞ –ø—Ä–∏–≤–µ–ª–∞ —è–∫–æ—Å—å –Ω–∞ –æ–¥–∏–Ω —ñ–∑ –º—ñ—Å—Ü–µ–≤–∏—Ö —Å—É–¥–Ω–æ—Ä–µ–º–æ–Ω—Ç–Ω–∏—Ö –∑–∞–≤–æ–¥—ñ–≤. –î–æ–≤–æ–¥–∏–ª–æ—Å—è –º–∞—Ç–∏ —Å–ø—Ä–∞–≤—É –∑ –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∏–º –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è–º, –∑–æ–∫—Ä–µ–º–∞, –∑ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∂–∏–≤–ª–µ–Ω–Ω—è –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å—É–¥–µ–Ω. –ü–∞–º'—è—Ç–∞—é, —è–∫ —ñ–Ω—Å–ø–µ–∫—Ç–æ—Ä–∏ –∑ –†–µ–≥—ñ—Å—Ç—Ä—É —Å—É–¥–Ω–æ–ø–ª–∞–≤—Å—Ç–≤–∞ –¥—É–∂–µ –ø—Ä–∏—Å–∫—ñ–ø–ª–∏–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–ª–∏ –∫–æ–∂–Ω—É –¥–µ—Ç–∞–ª—å, –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º ‚Äì —É—Å–µ, —è–∫ –Ω–∞–ª–µ–∂–∏—Ç—å.\n(—Ñ—Ä–∞–∑–∞ –Ω–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ: \"–•—Ç–æ –Ω–µ—Ö—Ç—É—î —Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é –∑–∞—Ö–∏—Å—Ç—É ‚Äî —Ç–æ–π —Ä–∞–Ω–æ —á–∏ –ø—ñ–∑–Ω–æ –º–∞—Ç–∏–º–µ –≥–∞—Ä—è—á–µ –ø–æ–±–∞—á–µ–Ω–Ω—è –∑ –∫–æ—Ä–æ—Ç–∫–∏–º –∑–∞–º–∏–∫–∞–Ω–Ω—è–º.\")",
            "quoted_username": "levko_pidnapruga_bot",
            "is_quoting": true,
            "bot_name_in_quoted_message": false,
            "message_thread_id": 894
          },
          "webhookUrl": "http://localhost:5678/webhook-test/1a3388dd-f813-48e8-ac6f-ab2398545630",
          "executionMode": "test"
        }
      }
    ]
  },
  "connections": {
    "Edit Fields": {
      "main": [
        [
          {
            "node": "RAG AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RAG AI Agent": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram get file": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If any file": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "If any file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calculator": {
      "ai_tool": [
        [
          {
            "node": "RAG AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "RAG AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Europe/Kyiv",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "versionId": "01f09267-5294-4fa9-a4c0-929001b85a00",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "9a3c1ce180d6c36adae76bbdb64a1ece777a6b1c8285f378d5482dc3c290cd8d"
  },
  "id": "iq72YFbqealMRCwR",
  "tags": [
    {
      "createdAt": "2025-05-14T14:04:56.504Z",
      "updatedAt": "2025-05-14T14:04:56.504Z",
      "id": "KfuEr79EWPyyhSp9",
      "name": "prod"
    }
  ]
}